!function(t){"use strict";t="default"in t?t["default"]:t;var r={};r.classCallCheck=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},r.createClass=function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}();var e=function(t,r){var e=function(t){var r={key:t,isOptional:!1},e=t.split("?");return""===e[0]&&(r.key=e[1],r.isOptional=!0),r};return t.split(r).map(e)},n=function(){function t(e){r.classCallCheck(this,t);try{this.separator=e.get("ngSmartIdSeparator")}catch(n){this.separator=":"}try{this.patterns=e.get("ngSmartIdPatterns")}catch(n){this.patterns={}}}return r.createClass(t,[{key:"parse",value:function(t,r){var n=t.split(this.separator),a=void 0,i=n.reduce(function(t,r){return a?(t[a]=r,a=void 0):a=r,t},{});if(r){r=this.patterns[r]||r;var o=e(r,this.separator);o.forEach(function(t){if(!i[t.key]&&!t.isOptional)throw new Error("could not parse the id, non optional field "+t.key+" missing")})}return i}},{key:"idify",value:function(t,r){var n=this,a=function(t){return"undefined"!=typeof t&&null!==t&&""!==t};r=this.patterns[r]||r;var i=e(r,this.separator);return i.reduce(function(r,e){var i=t[e.key];if(i&&a(i))return r+(r.length?n.separator+e.key:e.key)+n.separator+i;if(!e.isOptional)throw new Error("could not generate id, missing field "+e.key);return r},"")}}]),t}();n.$inject=["$injector"],t.module("ngSmartId",[]).service("smartId",n)}(angular);